
```text
.\start.ps1
```

```text
【厳守】
日本語で報告しろ。
トークン制限まで中断せず全タスク実行しろ！
トークン制限で中断しろ、簡略化など品質を低下させるな！
消費トークンを報告しろ。

【重要タスク】
ワークスペース全ファイル解析。

下記の記載を修正しろ。
run.bat/run.ps1　→　.\start.ps1
音声生成　→　画像・音声生成
WebM出力　→　動画出力

```

```text
【厳守】
日本語で報告しろ。
トークン制限まで中断せず全タスク実行しろ！
トークン制限で中断しろ、簡略化など品質を低下させるな！
消費トークンを報告しろ。

【ローカル実装】
テスト100％正常に機能が動作するまで繰り返し修正しろ。
Python 3.10.11を標準実行環境としろ。
pythonではなくpy -3.10実行しろ。

下記ファイルを参考にして、下記の条件で、inputフォルダ内のpdfファイルおよび原稿.csvから、音声を生成し、outputフォルダに動画を出力（pdfファイルと同名で保存）しろ。
参考ファイル
- docs\NotebookLMスライドから「音声&字幕付き動画」が作れるプロンプト.md
- docs\react-app-template.txt
- docs\AI Slide Studio.md
条件
- アプリは汎用とし、特定PDF固有の情報（例: ファイル名固定など）は記載するな。
- input\原稿.csvを原稿（Narration Script）に読み込み文字化け対処。
- ワンクリックでローカルバックエンドサーバー起動し、index.htmlが開くstart.ps1スクリプト作成しろ。
- README.md作成しろ。

index.htmlに下記の機能を実装し、下記の内容をヘルプガイドに記載しろ。
- index.htmlをダーク黒とオレンジ基調、立体的で金属的エレクトロメカニカルなイメージ。
- pdf入力ボタン。ツールチップ追加。
- 原稿csv入力ボタン実行で、毎回inputフォルダにcsvファイルを上書き保存する。ツールチップ原稿csv入力。
- 画像解像度プルダウン選択する。ツールチップ画像解像度。
- 画像・音声生成ボタン実行で、output\tempフォルダ全ファイルを削除、音声ファイルと画像ファイルを上書き保存する。
- 左サイドバーに、各スライド表示、画像・音声生成ボタン、音声再生ボタン。
- 画像・音声生成ボタン実行で「画像・音声生成中」表示。
- 動画に字幕ON/OFF選択する。ツールチップASS焼き込み字幕ON/OFF。原稿を句読点で分割し、文字数比率でタイミングを計算する。字幕の高さ位置スライド下寄せ。YouTube風の字幕の背景を半透明グレイ太字。
- 動画生成ボタン実行で「動画生成中」表示。outputフォルダに動画ファイルを上書き更新（pdfファイルと同名で保存）する。
- 原稿csv出力ボタン実行で、更新した原稿csvファイルをダウンロード出力する。
- 動画（WebM/MP4）形式プルダウン選択する。ツールチップ追加。
- 動画出力ボタン実行で、outputフォルダに保存した動画ファイルをダウンロード出力する。
- pptx出力ボタン。ツールチップ追加。

【共通タスク】
ワークスペース内の全ファイル全文を末尾まで解析しろ。
その結果に合致しない内容を削除し下記ファイルをブラッシュアップ更新しろ。
修正した内容を確実に下記ファイルに反映しろ。
フローチャートやガントチャートなどMermaid図v11準拠を挿入しろ。
- .specify\memory\constitution.md
- spec.md
- plan.md
- tasks.md
- README.md

tasks.mdガントチャート2026-1-5開始、土日年末年始（12/27-1/4）休日考慮、細分化したスケジュール、任意に開始日を変更できる相対日付方式（日付ではなくafter）に修正しろ
土日年末年始休日にスケジュール入れるな
gantt
    title 実装スケジュール
    dateFormat YYYY-MM-DD
    axisFormat %m/%d
    excludes weekends
    section Phase 1 Setup
    T001-T008 Setup Tasks           :p1, 2026-1-5, 2d
    section Phase 2 Foundational
    T009-T013 Foundational Tasks    :p2, after p1, 2d

修正をE2Eテストに反映しろ
E2Eテスト100％正常に機能が動作するまで繰り返し修正しろ

tasks.md実装を確認し完全にチェック記入しろ、全て完了するまで繰り返し確認しろ、未実装にチェックするな！

【ワークスペース】
ワークスペース内の全ファイル全文を末尾まで解析しろ
pdf以外の不要なファイルを削除しろ
最新プロジェクトのファイル構造を確認し関連ファイル更新しろ
上記の内容でREADME.mdなど関連ファイル更新しろ
- docs\DEPLOY_GUIDE.md修正しろ
- docs\完全仕様書.md修正しろ
バージョンはv1.0.0ではなく1.0.0、日付は2026-1-5で統一しろ
文字化け回避のため一括置換するな

全ドキュメント内リンク先をローカル（例：docs/完全仕様書.md）ではなくリポジトリ（例：https://github.com/J1921604/Slide-Voice-Maker/blob/main/docs/完全仕様書.md）に正確に修正しろ
下記リポジトリに変更しろ
https://github.com/J1921604/Slide-Voice-Maker

【GithubPage実装】
- リモートからプル対処しろ
- index.htmlをGitHubActionsでGitHubPagesにデプロイしろ。.github\workflows\pages.yml作成しろ。

ローカルとリモート全ブランチmainにマージし削除しろ
.github\copilot-commit-message-instructions.mdに基づきコミット、プッシュしろ
```

---

https://github.com/J1921604/Slide-Voice-Maker
https://j1921604.github.io/Slide-Voice-Maker/

---

下記の原因を究明し正常に動作するまで繰り返し修正しろ。
- outputフォルダに動画ファイル出力（pdfファイルと同名で保存）に時間が掛かり過ぎ改善しろ。
- output\temp\<PDFファイル名>\audio_0.mp3、output\temp\<PDFファイル名>\slide_0.pngは高速で生成され良好。

ダウンロードした動画ファイル再生
- ASS焼き込み字幕がナレーションと一致しない。
index.html画面で各スライド音声再生の字幕は一致している。原稿を句読点で分割し、文字数比率でタイミングを計算する方法に修正しろ。
- ASS焼き込み字幕が各スライド最初のチャンクのまま次のチャンクに切り替わらない。
スライド1は「今回は、」のまま「AIドリブン開発が必要なのか？」に切り替わらない。
スライド2は「なぜ今、」のまま「なぜド素人の私が、」に切り替わらない。
同一スライド別時刻フレーム変化するか（＝字幕が切り替わるか）自動で検証しろ。

---



